{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Carlo\\\\Documents\\\\GitHub\\\\Web-proyecto\\\\src\\\\Components\\\\Tabla\\\\Tabla.js\";\nimport React from \"react\";\nimport BtnEl from \"../BotonEL/BtnEl\";\nimport \"./Tabla.css\";\nimport fb from \"../../Utils/Firebase\";\nimport { collection, query, where, onSnapshot } from \"firebase/firestore\";\nimport { getDatabase, ref, onValue, get, child } from \"firebase/database\"; // These imports load individual services into the firebase namespace.\n\nimport 'firebase/auth';\nimport 'firebase/database';\nimport 'firebase/firestore';\nimport 'firebase/storage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Tabla extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      MisReservas: []\n    };\n  }\n\n  componentDidMount() {\n    //const db = getDatabase();\n    //const r = ref(db, 'proyectofinalweb-2c536-default-rtdb');\n    const dbRef = ref(getDatabase());\n    get(dbRef, \"proyectofinalweb-2c536-default-rtdb\").then(snapshot => {\n      let MiReserva = [];\n\n      if (snapshot.exists()) {\n        console.log(snapshot.val());\n        snapshot.forEach(snap => {\n          //MisReservas.push(snap.val())\n          MiReserva = snap.val();\n          this.handleUpdate(MiReserva);\n        });\n      } else {\n        console.log(\"No data available\");\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n\n  handleUpdate(Mr) {\n    this.setState({\n      MisReservas: Mr\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"TbContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"Tabla\",\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"TrHeader\",\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Fecha\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Hora\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Descripci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Opciones\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), Object.keys(this.state.MisReservas).map(data => {\n          console.log(data);\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"TrBody\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.MisReservas[data].fecha\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.MisReservas[data].hora\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.MisReservas[data].descripcion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(BtnEl, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 37\n            }, this)]\n          }, data, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Tabla;","map":{"version":3,"sources":["C:/Users/Carlo/Documents/GitHub/Web-proyecto/src/Components/Tabla/Tabla.js"],"names":["React","BtnEl","fb","collection","query","where","onSnapshot","getDatabase","ref","onValue","get","child","Tabla","Component","constructor","props","state","MisReservas","componentDidMount","dbRef","then","snapshot","MiReserva","exists","console","log","val","forEach","snap","handleUpdate","catch","error","Mr","setState","render","Object","keys","map","data","fecha","hora","descripcion"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport BtnEl from \"../BotonEL/BtnEl\";\r\nimport \"./Tabla.css\";\r\nimport fb from \"../../Utils/Firebase\"\r\nimport { collection, query, where, onSnapshot } from \"firebase/firestore\";\r\nimport { getDatabase, ref, onValue, get, child } from \"firebase/database\";\r\n\r\n// These imports load individual services into the firebase namespace.\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\n\r\nclass Tabla extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state =({\r\n            MisReservas:([])\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        //const db = getDatabase();\r\n        //const r = ref(db, 'proyectofinalweb-2c536-default-rtdb');\r\n\r\n          const dbRef = ref(getDatabase());\r\n            get(dbRef, \"proyectofinalweb-2c536-default-rtdb\").then((snapshot) => {\r\n            let MiReserva = ([]);\r\n            if (snapshot.exists()) {\r\n                console.log(snapshot.val());\r\n                snapshot.forEach(snap => {\r\n                    //MisReservas.push(snap.val())\r\n                    MiReserva = snap.val();\r\n                    this.handleUpdate(MiReserva);\r\n                      \r\n                });\r\n            } else {\r\n                console.log(\"No data available\");\r\n            }\r\n            }).catch((error) => {\r\n            console.error(error);\r\n            });\r\n      \r\n    }\r\n\r\n    handleUpdate(Mr){\r\n        this.setState({ MisReservas: Mr });\r\n    }\r\n    \r\n    render() {\r\n        return(\r\n            <div className=\"TbContainer\">\r\n                    <table className=\"Tabla\">\r\n                        <tr className=\"TrHeader\">\r\n                            <th>Fecha</th>\r\n                            <th>Hora</th>\r\n                            <th>Descripci√≥n</th>\r\n                            <th>Opciones</th>\r\n                        </tr>\r\n                        {Object.keys(this.state.MisReservas).map(data =>{\r\n                                console.log(data);\r\n                            return(\r\n                                <tr className=\"TrBody\" key={data}>\r\n                                    <td>{this.state.MisReservas[data].fecha}</td>\r\n                                    <td>{this.state.MisReservas[data].hora}</td>\r\n                                    <td>{this.state.MisReservas[data].descripcion}</td>\r\n                                    <td>\r\n                                        <BtnEl></BtnEl>\r\n                                    </td>\r\n                                </tr>\r\n                                                                \r\n                                );\r\n                            })\r\n                        }\r\n                    </table> \r\n            </div>\r\n        );\r\n        \r\n    }\r\n}\r\n\r\n\r\nexport default Tabla;"]},"metadata":{},"sourceType":"module"}